!function(d,$){"use strict";var x="ht",R=d[x],a="innerHTML",l="className",P=null,A="px",f=R.Default,J=f.getInternal(),X="0",r=function(){return document},G=function(L){return r().createElement(L)},E=function(){return G("canvas")},V=function(k,_,C){k.style.setProperty(_,C,P)},s=function(Z,y,x){f.def(R.widget[Z],y,x)},h=function(G,U){G.appendChild(U)},C=function(g,p){g.removeChild(p)},m=function(g,X,z,o){g.addEventListener(X,z,!!o)},L=function(I,O,g,z){I.removeEventListener(O,g,!!z)},u=f.isTouchable;J.addMethod(f,{menuLabelFont:(u?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),R.widget.Menu=function(W){var q=this,u=q._view=J.createView(null,q),z=q.$1g=new R.widget.ContextMenu,s=G("ul");z._r=!0,z._view[l]+=" ht-widget-dropdownmenu",u[l]="ht-widget-menu",s[l]="header",V(u,"margin",X),V(u,"padding",X),V(u,"background",f.menuBackground),V(u,"-webkit-user-select","none"),V(u,"-moz-user-select","none"),V(u,"user-select","none"),V(u,"text-align","left"),V(u,"border-bottom",f.menuSeparatorWidth+"px solid "+f.menuSeparatorColor),V(u,"cursor","default"),V(u,"overflow","auto"),V(u,"white-space","nowrap"),V(u,"font",f.menuLabelFont),V(u,"color",f.menuLabelColor),V(u,"box-sizing","border-box"),V(u,"-moz-box-sizing","border-box"),V(s,"list-style","none"),V(s,"margin",X),V(s,"padding",X),V(s,"display","inline-block"),h(u,s),q.setItems(W),q.$2g=function(u){q.$3g(u)},q.$4g=function(F){q.$5g(F)},q.$6g=function(g){q.$7g(g)},q.$8g=function(L){q.$9g(L)},q.$9b=function(p){q.$10g(p)},q._autoShow=!0,q.setAutoShow(!1),z.afterHide=function(){q.$11g()},z.afterShow=function(){q.$12g()},L(r(),"keydown",z.$3b),q.$3b=function(x){q.$13g(x)},q.invalidate()},s("Menu",$,{_items:P,$14g:f.menuHoverBackground,$15g:f.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(z){var E=this;if(E.$21g=z,E.setItems(E._items),"largeicons"===z){for(var y=E._view.querySelectorAll(".header-item"),_=0,K=0;K<y.length;K++){var X=y[K];_=Math.max(_,X.clientWidth)}for(var K=0;K<y.length;K++){var X=y[K];V(X,"min-width",_+A)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(U){this.$22g=U;for(var a=this._view.querySelectorAll(".header-item"),C=0;C<a.length;C++){var e=a[C];V(e,"margin-left",U+A),V(e,"margin-right",U+A)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(Z){this.$23g=Z;for(var v=this._view.querySelectorAll(".header-item"),g=0;g<v.length;g++){var X=v[g];V(X,"margin-top",Z+A),V(X,"margin-bottom",Z+A)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(t){this.$24g=t,V(this._view,"text-align",t)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var d=this,z=d._enableGlobalKey;z===!1&&(m(r(),"keydown",d.$3b),d._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,L(r(),"keydown",this.$3b)},setHoverBackground:function(b){this.$14g=b},setHoverColor:function(M){this.$15g=M},setItems:function(X){var M=this,v=M._view,A=M.$21g;if(M._items=X,v.children[0][a]="",M.$16g={},X&&X.length){for(var i=v.children[0],I=0,$=r().createDocumentFragment();I<X.length;I++){var n=X[I],W=G("li"),d=G("span");if(n.icon){var c=E();c[l]="menu-item-icon","smallicons"===A?(V(c,"height","1.2em"),V(c,"width","1.2em"),V(c,"vertical-align","middle")):(V(c,"height","32px"),V(c,"width","32px"),V(c,"display","block"),V(c,"margin","0 auto")),c.$20g=n.icon,h(W,c)}W[l]="header-item",V(W,"display","inline-block"),V(W,"vertical-align","top"),V(W,"padding","0 1.2em"),V(W,"line-height","1.8em"),"largeicons"===A&&V(W,"text-align","center"),V(W,"background-color","rgba(0,0,0,0)"),W.setAttribute("data-index",I),M.$16g[I]=n.items,d[a]=n.label,"iconsonly"!==A&&h(W,d),h($,W)}h(i,$)}},showDropdownMenu:function($){var o=this,k=o.$16g[$],R=o.$1g,g=o._view.children[0].children[$],d=o.$17g;if(g&&g!==d){d&&o.hideDropdownMenu();var h=g.getBoundingClientRect(),m=f.getWindowInfo();o.$17g=g,R.setItems(k),R.show(h.left+m.left,h.top+h.height+m.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(I,s){var p=this,y=p._items;return y&&0!==y.length?p.$1g.getItemByProperty(I,s,y):P},$12g:function(){var S=this,c=S.$17g;c.style.background=S.$14g,c.style.color=S.$15g,S._autoShow||m(r(),u?"touchstart":"mousedown",S.$9b)},$11g:function(){var x=this,a=x.$17g;a&&(a.style.background="",a.style.color="",x.$17g=P),L(r(),u?"touchstart":"mousedown",x.$9b)},$10g:function(D){var _=this,V=_._view,d=_.$1g,s=V.children[0];!r().body.contains(V)||s.contains(D.target)||d._view.contains(D.target)||_.hideDropdownMenu()},$13g:function(s){var Y=this,x=Y.$1g;r().body.contains(Y._view)&&x.$13b.$4b.call(x.$13b,s,Y._items)},setAutoShow:function(i){var t=this,X=t.$1g,s=t._view;t._autoShow!==i&&(t._autoShow?(L(s,"mouseover",t.$2g),L(s,"mouseout",t.$4g),L(X._view,"mouseout",t.$4g),u||(m(s,"mouseover",t.$8g),m(s,"mouseout",t.$8g)),m(s,u?"touchstart":"mousedown",t.$6g)):(L(s,"mouseover",t.$8g),L(s,"mouseout",t.$8g),L(s,u?"touchstart":"mousedown",t.$6g),L(r(),u?"touchstart":"mousedown",t.$9b),u||(m(s,"mouseover",t.$2g),m(s,"mouseout",t.$4g),m(X._view,"mouseout",t.$4g))),t._autoShow=i)},$3g:function(C){var A=this,G=A._view.children[0],H=C.target;if(G!==H&&G.contains(H)){for(;"header-item"!==H[l];)H=H.parentNode;A.showDropdownMenu(H.getAttribute("data-index"))}},$5g:function(N){var z=this,c=z._view.children[0],V=z.$1g,W=N.target,M=N.relatedTarget;!c.contains(W)&&!V._view.contains(W)||c.contains(M)||V._view.contains(M)||z.hideDropdownMenu()},$7g:function(Y){Y.preventDefault();var z=this,C=z._view.children[0],x=z.$1g,O=Y.target;if(f.isLeftButton(Y)&&C!==O&&C.contains(O))if(u){for(;"header-item"!==O[l];)O=O.parentNode;var Q=O.getAttribute("data-index"),x=z.$1g,R=z._view.children[0].children[Q],g=z.$17g;x.isShowing()&&z.hideDropdownMenu(),R!==g&&z.showDropdownMenu(Q)}else if(x.isShowing())z.hideDropdownMenu();else{for(;"header-item"!==O[l];)O=O.parentNode;z.showDropdownMenu(O.getAttribute("data-index"))}},$9g:function(x){var n=this,R=n._view,M=n.$1g,U=x.target;if(R.contains(U)){for(var e=R.querySelectorAll(".header-item"),v=P,r=0;r<e.length;r++){var A=e[r];A.style.background="",A.style.color="","mouseover"===x.type?A.contains(U)&&(v=A):"mouseout"===x.type&&M.isShowing()&&n.$17g===A&&(v=A)}M.isShowing()&&(v||(v=n.$17g),n.showDropdownMenu(v.getAttribute("data-index"))),v&&(v.style.background=n.$14g,v.style.color=n.$15g)}},getShowingMenuIndex:function(){var S=this.$17g;return S?S.getAttribute("data-index"):-1},addTo:function(E){var r=this,D=r._view;h(E,D),r.invalidate()},dispose:function(){var N=this,Z=N._view,U=N.$1g;Z&&(N._autoShow?(L(Z,"mouseover",N.$2g),L(Z,"mouseout",N.$4g),L(U._view,"mouseout",N.$4g)):(L(Z,"mouseover",N.$8g),L(Z,"mouseout",N.$8g),L(Z,u?"touchstart":"mousedown",N.$6g),L(r(),u?"touchstart":"mousedown",N.$9b)),L(r(),"keydown",N.$3b),U.dispose(),Z.parentNode&&C(Z.parentNode,Z),N._view=N.$1g=N.$16g=N._items=N.$17g=N.$2g=N.$4g=N.$6g=N.$8g=N.$9b=N.$3b=P)},$19g:function($,O,A,X){var Q=J.initContext($);J.translateAndScale(Q,0,0,1),Q.clearRect(0,0,A,X),f.drawStretchImage(Q,f.getImage(O),"fill",0,0,A,X),Q.restore()},validateImpl:function(){var Q,g,e,o=this,u=o._view,q=u.querySelectorAll(".menu-item-icon");for(e=0;e<q.length;e++){var W=q[e];Q=W.clientWidth,g=W.clientHeight,Q&&g&&(J.setCanvas(W,Q,g),o.$19g(W,f.getImage(W.$20g),Q,g))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);